
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>MCQ-XeLaTeX Full Documentation &#8212; var  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon-gears.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="MCQ-XeLaTeX: How to use it with Moodle and for online exams" href="mcq-moodle.html" />
    <link rel="prev" title="MCQ-XeLaTeX: Multiple Choice Questions for mathematics and XeLaTeX" href="mcqxelatex.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="mcq-xelatex-full-documentation">
<h1>MCQ-XeLaTeX Full Documentation<a class="headerlink" href="#mcq-xelatex-full-documentation" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>2019-02-07 (updated 2023-01-28)</p>
</dd>
</dl>
<section id="latex-documentation-of-mcq-sty">
<span id="mcq-latex"></span><h2>LaTeX documentation of mcq.sty<a class="headerlink" href="#latex-documentation-of-mcq-sty" title="Permalink to this headline">¶</a></h2>
<p>The package can be called with any latex class, but recommended classes
are <code class="docutils literal notranslate"><span class="pre">article</span></code> (for Multiple Choice Questions and Optical Mark Recognition).
It also support the <code class="docutils literal notranslate"><span class="pre">exam</span></code> class(for open questions, see below <a class="reference internal" href="#exam"><span class="std std-ref">An exam class example:</span></a>):</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>mcq<span class="nb">}</span>
</pre></div>
</div>
<p>To install, download it: <a class="reference download internal" download="" href="_downloads/a7a670f40b50b15891accdb8ccfb2d2a/mcq.sty"><code class="xref download docutils literal notranslate"><span class="pre">mcq.sty</span></code></a>. Then, put it
somewhere. For example, in <a class="reference external" href="https://help.ubuntu.com/community/LaTeX">ubuntu</a>:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb"> mkdir </span><span class="o">-</span><span class="nb">p ~</span><span class="o">/</span><span class="nb">texmf</span><span class="o">/</span><span class="nb">tex</span><span class="o">/</span><span class="nb">latex</span><span class="o">/</span><span class="nb">mcq</span>
<span class="s">$</span> cd ~/texmf/tex/latex/mcq
<span class="s">$</span><span class="nb"> wget https:</span><span class="o">//</span><span class="nb">www.dlfer.xyz</span><span class="o">/</span><span class="nb">var</span><span class="o">/</span><span class="nb">mcq.sty</span>
<span class="s">$</span> texhash
</pre></div>
</div>
<section id="package-options">
<h3>Package options:<a class="headerlink" href="#package-options" title="Permalink to this headline">¶</a></h3>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bubblesheet</span></code></dt><dd><p>Print a cover sheet with the grid of bubbles (to be filled) for student UID and
answers.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dsa</span></code></dt><dd><p>Use <a class="reference external" href="https://www.opendyslexic.org">OpenDyslexic</a> font, a typeface for Dyslexia.
It has to be installed on the system. On ubuntu linux, for example:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb"> sudo apt install fonts</span><span class="o">-</span><span class="nb">opendyslexic</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">extrasheet</span></code></dt><dd><p>Print a second bubblesheet after the first, just in case, if the students are
considered not careful enough in filling the bubbles (and therefore a high percentage will
do a mistake).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">namedheader</span></code></dt><dd><p>Print a named header, useful for when a multi-page document has to be returned by students,
and therefore they need to write their own name on each sheet.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noblankpage</span></code></dt><dd><p>Do not print a blank page after the <code class="docutils literal notranslate"><span class="pre">bubblesheet</span></code> page. Usefule if one does not print
on duplex printers.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sol</span></code></dt><dd><p>With this option, an explicit graphic mark will highlight the (correct) answers. Userful for
proof-reading the exam document, but <strong>absolutely</strong> to remove befor generating
the real production document.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ttf</span></code></dt><dd><p>Use the TTF version of <a class="reference external" href="http://libertine-fonts.org/">Linux Libertine</a> instead of the
default OTF version.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">doexe</span></code></dt><dd><p>when generating copies for the individual sheets, include not only <code class="docutils literal notranslate"><span class="pre">exerm</span></code> style questions,
but also open-answer questions <code class="docutils literal notranslate"><span class="pre">\begin{exe}...\end{exe}</span></code></p>
</dd>
</dl>
</section>
<section id="preamble-commands">
<h3>Preamble commands:<a class="headerlink" href="#preamble-commands" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">\puntigiusta{&lt;number&gt;}</span></code></dt><dd><p>Number of points (float or signed integer) assigned to a correct answer. Typical value: <em>n - 1</em>, where
<em>n</em>  is the  number of answers.
Dafault value: <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\puntisbagliata{&lt;number&gt;}</span></code></dt><dd><p>Number of points (float or signed integer) assigned to a wrong answer. Typical value: <em>-1</em>.  Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\puntiempty{&lt;number&gt;}</span></code></dt><dd><p>Number of points (float or signed integer) assigned to a ungiven answer. Typical value: <em>0</em>. Default value: <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\formulavoto{&lt;python</span> <span class="pre">expression</span> <span class="pre">in</span> <span class="pre">x</span> <span class="pre">and</span> <span class="pre">y&gt;}</span></code></dt><dd><p>Formula to aggregate <em>x</em> = &lt;MCQ_MARK&gt; and <em>y</em> = &lt;OPTIONAL_MARK&gt;.
The exam might consist of a Multiple-Choice part, followed by some
open questions or exercises. The mark of the MCQ part will be
computed automatically, and denoted by &lt;MCQ_MARK&gt;. The mark of the
open-ended part needs to be given by your grading.
This formula is simply the way to sum the two parts, in python syntax.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\UIDdigits{number}</span></code></dt><dd><p>Number of UID digits. Default value: <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\headline{text}</span></code></dt><dd><p>Headline of the page (with info about the exam).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\englishinfo</span></code></dt><dd><p>Choose <code class="docutils literal notranslate"><span class="pre">English</span></code> language, instead of Italian, for the front sheet info.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\variantlabel{ABC}</span></code></dt><dd><p>Optional label to prepend to the permutation code of each sheet.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\moodlecategory{categoryname/subcategory}</span></code></dt><dd><p>Optional category name, in case a GIFT export is planned.</p>
</dd>
</dl>
</section>
<section id="environments-and-list-of-questions">
<h3>Environments and list of questions:<a class="headerlink" href="#environments-and-list-of-questions" title="Permalink to this headline">¶</a></h3>
<p>Just after the <code class="docutils literal notranslate"><span class="pre">\begin{document}</span></code>, one of the two following commands should appear:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">\nomeesame</span></code></dt><dd><p>Write <code class="docutils literal notranslate"><span class="pre">\Cognomename:</span> <span class="pre">\dotfill</span> <span class="pre">\Nomename:</span> <span class="pre">\dotfill</span> <span class="pre">\Firmaname:\dotfill</span></code>,
or an analogue.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\bubblesheet[optional</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">columns]{number</span> <span class="pre">of</span> <span class="pre">questions}{number</span> <span class="pre">of</span> <span class="pre">anwsers}</span></code></dt><dd><p>Print a cover page with fillable bubbles, to be fed to a document scanner and OMR.</p>
</dd>
</dl>
<p>Then, there will be all questions/exercises, grouped in some environments.
The top (numbered or *-numbered) environment is <code class="docutils literal notranslate"><span class="pre">esercizi</span></code>, which surrounds the list of questions,
each given by an <code class="docutils literal notranslate"><span class="pre">exerm</span></code> or <code class="docutils literal notranslate"><span class="pre">exe</span></code>. The <code class="docutils literal notranslate"><span class="pre">exe</span></code> type does not have any features. The <code class="docutils literal notranslate"><span class="pre">exerm</span></code>
environment is a multiple choice question: its anwers are enumerated as in the
following example:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="c">% here a normal section of exercises</span>
<span class="k">\begin</span><span class="nb">{</span>esercizi<span class="nb">}{</span>Title of the section<span class="nb">}</span>

  <span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>[optional text]
  Body of the question.
  <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>[2]
    <span class="c">% the optional argument is the number of columns of the answers.</span>
  <span class="k">\risp</span><span class="na">[=]</span>
  <span class="k">\risp</span>
  <span class="k">\risp</span>
  <span class="k">\risp</span>
  <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>
  <span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>

  ... continued

<span class="k">\end</span><span class="nb">{</span>esercizi<span class="nb">}</span>

<span class="c">% here an unnumbered section of exercises</span>
<span class="k">\begin</span><span class="nb">{</span>esercizi*<span class="nb">}{</span>Title of the unnumbered section<span class="nb">}</span>

  <span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>
  Body of the question.
  <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>
  <span class="k">\risp</span><span class="na">[=]</span>
  <span class="k">\risp</span>
  <span class="k">\risp</span>
  <span class="k">\risp</span>
  <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>
  <span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>

  ... continued

<span class="k">\end</span><span class="nb">{</span>esercizi<span class="nb">}</span>
</pre></div>
</div>
<p>The difference of <code class="docutils literal notranslate"><span class="pre">esercizi</span></code> and <code class="docutils literal notranslate"><span class="pre">esercizi*</span></code>
is the same as the <code class="docutils literal notranslate"><span class="pre">\section</span></code> and <code class="docutils literal notranslate"><span class="pre">\section*</span></code> commands.</p>
<p>The two questions/exercises types are <code class="docutils literal notranslate"><span class="pre">exerm</span></code> and <code class="docutils literal notranslate"><span class="pre">exe</span></code>: the first is a <strong>Multiple Choice Question</strong>,
the second is a normal <strong>exercise</strong>.</p>
<p>More precisely, in <code class="docutils literal notranslate"><span class="pre">exerm</span></code> the question with answers
can be formatted as in the following full example:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>[Optional text]
<span class="k">\qtitle</span><span class="nb">{</span>Optional command for the title of the question: it is
 not shown in the PDF<span class="nb">}</span>
<span class="c">% the qtitle can be used to assign a unique ID to questions,</span>
<span class="c">% so that they can be kept in a Question Bank.</span>
Here write the text of the question.

  <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>[4] <span class="c">% The answers will be on 4 columns.</span>
                   <span class="c">% The default value is 1.</span>
  <span class="k">\risp</span><span class="na">[=]</span> Correct answer
    <span class="c">% it will be graded as correct, with a number of points</span>
    <span class="c">% given by \puntigiusta{number} command defined above</span>
    <span class="k">\fb</span><span class="nb">{</span>Very well!<span class="nb">}</span>  <span class="c">% This feedback is very important, for questions</span>
                     <span class="c">% converted to GIFT or HTML (interactive).</span>
  <span class="k">\risp</span> Wrong answer
    <span class="c">% it will be graded as wrong, if checked, with a number</span>
    <span class="c">% of points given by \puntisbagliata{number} command</span>
    <span class="k">\fb</span><span class="nb">{</span>No, you are wrong, since ...<span class="nb">}</span>
        <span class="c">% This feedback is very important, for questions</span>
        <span class="c">% converted to GIFT or HTML (interactive).</span>
  <span class="k">\risp</span><span class="na">[0.5]</span> Kind of wrong answer.
    <span class="c">% It will be graded as an answer with a manual value,</span>
    <span class="c">% given by the float 0.5.</span>
    <span class="k">\fb</span><span class="nb">{</span>Almost correct! In fact ... (explanation)<span class="nb">}</span>
          <span class="c">% This feedback is very important, for questions</span>
          <span class="c">% converted to GIFT or HTML (interactive).</span>
  <span class="k">\risp</span><span class="na">[-10]</span> Very wrong answer.
    <span class="c">% It will be graded with -10 points (signed integer).</span>
    <span class="k">\fb</span><span class="nb">{</span>Very bad! You do not get it since (explanation)<span class="nb">}</span>
          <span class="c">% This feedback is very important, for questions</span>
          <span class="c">% converted to GIFT or HTML (interactive).</span>
  <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>
  <span class="k">\fb</span><span class="nb">{</span>General Feedback<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>
</pre></div>
</div>
<p>The other exercise type is a simple environment, that can be also used as follows:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>exe<span class="nb">}</span>[Optional text]
Text of the exercise
<span class="k">\end</span><span class="nb">{</span>exe<span class="nb">}</span>
<span class="k">\begin</span><span class="nb">{</span>sol<span class="nb">}</span>
Solution
<span class="k">\end</span><span class="nb">{</span>sol<span class="nb">}</span>
</pre></div>
</div>
<p>Open answer questions can be used also to generate essay questions for MOODLE, with textarea
solutions (visible with the <code class="docutils literal notranslate"><span class="pre">sol</span></code> mcq option and removed in the moodle exported version):</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>exe<span class="nb">}</span>[comment]
<span class="k">\qtitle</span><span class="nb">{</span>Eventual tag of the question, it is only for MOODLE<span class="nb">}</span>
How much is <span class="s">$</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="s">$</span>?
<span class="k">\blank</span><span class="nb">{</span><span class="s">$</span><span class="m">2</span><span class="s">$</span><span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>exe<span class="nb">}</span>
</pre></div>
</div>
<p>The GIFT output will be:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>::Eventual tag of the question, it is only for MOODLE::
How much is <span class="s">$</span><span class="m">1</span><span class="o">+</span><span class="m">1</span><span class="s">$</span>?
<span class="nb">{}</span>
</pre></div>
</div>
</section>
<section id="questions-with-variants">
<h3>Questions with variants:<a class="headerlink" href="#questions-with-variants" title="Permalink to this headline">¶</a></h3>
<p>Instead of just permuting the questions and the answers, it can
randomly choose variants (with different numerical values, or different
questions and different answers) of the questions.</p>
<p>The syntax is as in the following example:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>
  <span class="k">\begin</span><span class="nb">{</span>varianti<span class="nb">}</span>
  <span class="c">%% this is an exercise with two variants (randomly select just one of the two).</span>
  <span class="k">\varitem</span>

    <span class="s">$</span><span class="m">1</span><span class="o">+</span><span class="m">2</span><span class="o">=</span><span class="s">$</span>?
    <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>
      <span class="k">\risp</span><span class="na">[=]</span>  3
      <span class="k">\risp</span>  2
      <span class="k">\risp</span>  1
      <span class="k">\risp</span>  0
    <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>

  <span class="k">\varitem</span>

    <span class="s">$</span><span class="m">2</span><span class="o">+</span><span class="m">3</span><span class="o">=</span><span class="s">$</span>?
    <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>
      <span class="k">\risp</span><span class="na">[=]</span>  5
      <span class="k">\risp</span>  4
      <span class="k">\risp</span>  3
      <span class="k">\risp</span>  2
    <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>

  <span class="k">\end</span><span class="nb">{</span>varianti<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>
</pre></div>
</div>
<p>The same can be done with <code class="docutils literal notranslate"><span class="pre">\begin{exe}</span> <span class="pre">...</span> <span class="pre">\end{exe}</span></code> type exercises.</p>
<p>When exportin in moodle GIFT format, all the variants will be sequentially exported.</p>
</section>
<section id="other-commands">
<h3>Other commands:<a class="headerlink" href="#other-commands" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">\begin{sol}</span> <span class="pre">...</span> <span class="pre">\end{sol}</span></code></dt><dd><p>It is a proof-like environment, for solutions of exercises.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\WarningSign</span></code></dt><dd><p>Default: the string <code class="docutils literal notranslate"><span class="pre">★★!!★★``</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\OrnamentalBreak</span></code></dt><dd><p>An ornamental break (centered).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\blank{Text</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">solution}</span></code></dt><dd><p>Will draw a blank line with space for a solution (until the end of the line).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\blankarea[optional</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">rows]{Text</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">solution}</span></code></dt><dd><p>Will draw a blank area with space for a solution.</p>
</dd>
</dl>
<p>When compiled with the <code class="docutils literal notranslate"><span class="pre">sol</span></code> option:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\usepackage</span><span class="na">[sol]</span><span class="nb">{</span>mcq<span class="nb">}</span>
</pre></div>
</div>
<p>the blank areas/lines will be filled with the texts of the solutions.
Otherwise, they will be white or filled with squares. The default number of rows is 10, if omitted.
Otherwise, it can be any positive integer.</p>
</section>
<section id="latex-variables">
<h3>LaTeX variables:<a class="headerlink" href="#latex-variables" title="Permalink to this headline">¶</a></h3>
<p>can be redefined with <code class="docutils literal notranslate"><span class="pre">\renewcommand</span></code>, and are meant for internal use):</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">\geninfo</span></code></dt><dd><p>Definition of the text giving the instructions/info about the test/exam.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\ansinfo</span></code></dt><dd><p>Text to write before the bubblesheet answers.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\uidname</span></code></dt><dd><p>Name of the UID. Default: <code class="docutils literal notranslate"><span class="pre">Matricola</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\Cognomename</span></code></dt><dd><p>Name of FamilyName. Default: <code class="docutils literal notranslate"><span class="pre">Cognome</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\Nomename</span></code></dt><dd><p>Name of GivenName. Default: <code class="docutils literal notranslate"><span class="pre">Nome</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\Firmaname</span></code></dt><dd><p>Name of the signature. Default: <code class="docutils literal notranslate"><span class="pre">Firma</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\SolName</span></code></dt><dd><p>Name of the solution. Default: <code class="docutils literal notranslate"><span class="pre">Soluzione</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\squarebox</span></code></dt><dd><p>The character for the symbol appearing on the left of each possible item-answer.
Check that the characters is included in the font Linux Libertine first.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\variantlabel</span></code></dt><dd><p>A label (possibly empty) to prepend to each permutation code.</p>
</dd>
</dl>
</section>
<section id="further-commands">
<h3>Further commands:<a class="headerlink" href="#further-commands" title="Permalink to this headline">¶</a></h3>
<p>Other commands can be included in the [optional] file <cite>mcq_commands.tex</cite>. If it
exists, it is included and processed automatically. If it does not exists,
nothing is done (read the logs to see what happended).</p>
</section>
<section id="mcq-w-bubblesheet-example">
<h3>MCQ w/Bubblesheet example:<a class="headerlink" href="#mcq-w-bubblesheet-example" title="Permalink to this headline">¶</a></h3>
<p>An example of MCQ exam with bubblesheet (try to compile it with or without the
<code class="docutils literal notranslate"><span class="pre">sol</span></code> package option):</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="c">%===================================================================</span>
<span class="k">\documentclass</span><span class="na">[twoside,a4paper,leqno]</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="c">%===================================================================</span>
<span class="k">\usepackage</span><span class="nb">{</span>mathpazo<span class="nb">}</span> <span class="c">% I like it.</span>
<span class="k">\usepackage</span><span class="na">[bubblesheet]</span><span class="nb">{</span>mcq<span class="nb">}</span>
<span class="k">\englishinfo</span> <span class="c">%% this if you want English sentences.</span>
<span class="k">\usepackage</span><span class="nb">{</span>polyglossia<span class="nb">}</span>
<span class="k">\setdefaultlanguage</span><span class="nb">{</span>english<span class="nb">}</span> <span class="c">%% it needs to be *after* mcq.</span>

<span class="c">%===================================================================</span>
<span class="k">\headline</span><span class="nb">{</span>Multiple Choice questions on Logic (2013-12-31)<span class="nb">}</span>
<span class="c">%% this is the &quot;name&quot; of the exam</span>
<span class="c">%  http://www.math.ucla.edu/\char`~tao/java/MultipleChoice/logic.txt</span>

<span class="k">\puntigiusta</span><span class="nb">{</span>6<span class="nb">}</span> <span class="c">% points for a correct answer</span>
<span class="k">\puntisbagliata</span><span class="nb">{</span>-1<span class="nb">}</span> <span class="c">% points for a wrong answer</span>
<span class="k">\puntiempty</span><span class="nb">{</span>0<span class="nb">}</span> <span class="c">% points for non-response.</span>

<span class="c">%===================================================================</span>
<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>
<span class="k">\bubblesheet</span><span class="na">[2]</span><span class="nb">{</span>14<span class="nb">}{</span>7<span class="nb">}</span>
<span class="c">% [number of columns] {number of questions} {number of answers}</span>

<span class="k">\begin</span><span class="nb">{</span>esercizi*<span class="nb">}{}</span>

<span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>[Optional text]
  <span class="k">\qtitle</span><span class="nb">{</span>This is an unseen title<span class="nb">}</span>
  Let <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> be statements.  If we know that <span class="s">$</span><span class="nb">X</span><span class="s">$</span> implies <span class="s">$</span><span class="nb">Y</span><span class="s">$</span>, then
  we can also conclude that
  <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>[2]
    <span class="k">\risp</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is true, and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is also true.
      <span class="k">\fb</span><span class="nb">{</span><span class="c">%</span>
      This is a feedback comment (optional). Useful only in the conversion
      to HTML or for dynamical formats on MOODLE.
      <span class="nb">}</span>
    <span class="k">\risp</span><span class="na">[-2]</span>
      <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> cannot be false.
      <span class="k">\fb</span><span class="nb">{</span>This was terribly wrong.<span class="nb">}</span>
    <span class="k">\risp</span><span class="na">[3]</span> If <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is true, then <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is true.
      <span class="k">\fb</span><span class="nb">{</span>Kind of true?<span class="nb">}</span>
    <span class="k">\risp</span><span class="na">[=]</span>
      If <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is false, then <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is false.
    <span class="k">\risp</span> If <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is false, then <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is false.
    <span class="k">\risp</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> cannot be false.
    <span class="k">\risp</span><span class="na">[3.1415]</span>
      At least one of <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is true.
  <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>exerm<span class="nb">}</span>
  Let <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> be statements.  If we want to DISPROVE the claim that
  &quot;Both <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are true&quot;, we need to show that
  <span class="k">\begin</span><span class="nb">{</span>rispm<span class="nb">}</span>
    <span class="k">\risp</span><span class="na">[=]</span>  At least one of <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are false.
    <span class="k">\risp</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are both false.
    <span class="k">\risp</span><span class="na">[0.5]</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is false.
      <span class="k">\fb</span><span class="nb">{</span>This will indeed disprove &quot;Both <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are true&quot;, but <span class="s">$</span><span class="nb">X</span><span class="s">$</span> does
      not need to be false in order to disprove the above statement.<span class="nb">}</span>
    <span class="k">\risp</span><span class="na">[0.5]</span> <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is false.
      <span class="k">\fb</span><span class="nb">{</span>This will indeed disprove &quot;Both <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are true&quot;, but <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> does
      not need to be false in order to disprove the above statement.<span class="nb">}</span>
    <span class="k">\risp</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> does not imply <span class="s">$</span><span class="nb">Y</span><span class="s">$</span>, and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> does not imply <span class="s">$</span><span class="nb">X</span><span class="s">$</span>.
    <span class="k">\risp</span> Exactly one of <span class="s">$</span><span class="nb">X</span><span class="s">$</span> and <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> are false.
    <span class="k">\risp</span> <span class="s">$</span><span class="nb">X</span><span class="s">$</span> is true if and only if <span class="s">$</span><span class="nb">Y</span><span class="s">$</span> is false.
  <span class="k">\end</span><span class="nb">{</span>rispm<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>exerm<span class="nb">}</span>


(..omissis..)

<span class="k">\end</span><span class="nb">{</span>esercizi*<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>
</div>
</section>
<section id="an-exam-class-example">
<span id="exam"></span><h3>An exam class example:<a class="headerlink" href="#an-exam-class-example" title="Permalink to this headline">¶</a></h3>
<p>Some commands taken from  the <a class="reference external" href="http://www-math.mit.edu/~psh/exam/examdoc.pdf">exam latex class</a>:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="k">\documentclass</span><span class="nb">{</span>exam<span class="nb">}</span>

<span class="k">\pointpoints</span><span class="nb">{</span>point<span class="nb">}{</span>points<span class="nb">}</span>
<span class="k">\bonuspointspoints</span><span class="nb">{</span>bonus point<span class="nb">}{</span>bonus points<span class="nb">}</span>
<span class="k">\qformat</span><span class="nb">{</span>Format specification<span class="nb">}</span>
<span class="k">\bonusqformat</span><span class="nb">{</span>Format specification<span class="nb">}</span>

<span class="k">\chqword</span><span class="nb">{</span>Exercise:<span class="nb">}</span>
<span class="k">\chpword</span><span class="nb">{</span>Points:<span class="nb">}</span>
<span class="k">\chbpword</span><span class="nb">{</span>Bonus points:<span class="nb">}</span>
<span class="k">\chtword</span><span class="nb">{</span>Total<span class="nb">}</span>
</pre></div>
</div>
<p>An example of an exam with blankareas and no bubblesheet (try to compile it with or without
the <code class="docutils literal notranslate"><span class="pre">sol</span></code> option):</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="c">%===================================================================</span>
<span class="k">\documentclass</span><span class="na">[twoside,a4paper,leqno,addpoints]</span><span class="nb">{</span>exam<span class="nb">}</span>
<span class="c">%===================================================================</span>
<span class="k">\usepackage</span><span class="nb">{</span>mathpazo<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[noblankpage,sol]</span><span class="nb">{</span>mcq<span class="nb">}</span>

<span class="k">\usepackage</span><span class="na">[italian]</span><span class="nb">{</span>babel<span class="nb">}</span>
<span class="k">\headline</span><span class="nb">{</span>Analisi 2 - Scritto <span class="k">\#</span>3  -- 2019-02-25, 1430-1630, aula U2-07<span class="nb">}</span>
<span class="c">%===================================================================</span>
<span class="k">\usepackage</span><span class="nb">{</span>xspace<span class="nb">}</span>
<span class="k">\newcommand</span><span class="nb">{</span><span class="k">\quindi</span><span class="nb">}{</span><span class="k">\fontspec</span><span class="na">[Scale=1.0]</span><span class="nb">{</span>Junicode<span class="nb">}</span><span class="k">\char</span>&quot;2234<span class="k">\xspace</span><span class="nb">}</span>
<span class="c">%===================================================================</span>
<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

<span class="k">\nomeesame</span>

<span class="k">\norme</span><span class="nb">{</span><span class="k">\itshape\small</span>
Norme per la prova:
<span class="k">\begin</span><span class="nb">{</span>compactenum<span class="nb">}</span>
<span class="k">\item</span> Scrivere cognome, nome e numero di matricola negli appositi spazi.
<span class="k">\item</span> Consegnare <span class="k">\emph</span><span class="nb">{</span>solo<span class="nb">}</span> il presente fascicolo.
<span class="k">\item</span> Rispondere alle domande utilizzando gli appositi spazi.
<span class="k">\item</span> Tempo: 120 minuti.
<span class="k">\item</span> I punti di ciascun esercizio sono indicati tra parentesi.
<span class="k">\item</span> I punti <span class="k">\emph</span><span class="nb">{</span>bonus<span class="nb">}</span> valgono soltanto se le parti precedenti
nell&#39;esercizio sono state valutate con punteggio pieno.
<span class="k">\end</span><span class="nb">{</span>compactenum<span class="nb">}</span>
<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>questions<span class="nb">}</span>
<span class="k">\question</span><span class="na">[3]</span>
Il limite
<span class="k">\begin</span><span class="nb">{</span>equation*<span class="nb">}</span>
<span class="k">\lim</span><span class="nb">_{</span>(x,y) <span class="k">\to</span> (0,0)<span class="nb">}</span><span class="k">\,</span> <span class="k">\frac</span><span class="nb">{</span>x <span class="k">\,</span> <span class="nb">{</span>|y|<span class="nb">}^</span><span class="k">\alpha</span><span class="nb">}{</span>x<span class="nb">^</span>2 + y<span class="nb">^</span>2<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>equation*<span class="nb">}</span>
esiste se  e solo se  <span class="s">$</span><span class="nv">\alpha</span><span class="nb"> </span><span class="nv">\in</span><span class="nb"> </span><span class="s">$</span>
<span class="k">\blank</span><span class="nb">{</span><span class="s">$</span><span class="o">(</span><span class="m">1</span><span class="nb">,</span><span class="o">+</span><span class="nv">\infty</span><span class="o">)</span><span class="s">$</span><span class="nb">}</span>

<span class="k">\question</span><span class="na">[3]</span>
Sia <span class="s">$</span><span class="nb">T</span><span class="s">$</span> il triangolo in <span class="s">$</span><span class="nv">\mathbb</span><span class="nb">{R}^</span><span class="m">2</span><span class="s">$</span> di vertici <span class="s">$</span><span class="nv">\left</span><span class="o">(</span><span class="m">1</span><span class="nb">,</span><span class="m">1</span><span class="nv">\right</span><span class="o">)</span><span class="s">$</span>,
<span class="s">$</span><span class="nv">\left</span><span class="o">(</span><span class="m">2</span><span class="nb">,</span><span class="m">2</span><span class="nv">\right</span><span class="o">)</span><span class="s">$</span> e <span class="s">$</span><span class="nv">\left</span><span class="o">(</span><span class="m">1</span><span class="nb">, </span><span class="m">3</span><span class="nv">\right</span><span class="o">)</span><span class="s">$</span>.

Calcolare l&#39;integrale <span class="s">$</span><span class="nv">\displaystyle</span><span class="nb"> </span><span class="nv">\int</span><span class="nb">_T xy</span><span class="nv">\,</span><span class="nb"> dx</span><span class="nv">\,</span><span class="nb"> dy </span><span class="o">=</span><span class="s">$</span>
<span class="k">\blank</span><span class="nb">{</span><span class="s">$</span><span class="nv">\frac</span><span class="nb">{</span><span class="m">8</span><span class="nb">}{</span><span class="m">3</span><span class="nb">}</span><span class="s">$</span><span class="nb">}</span>

(..omissis..)

<span class="k">\OrnamentalBreak</span>

<span class="k">\question</span><span class="na">[8]</span>
Sia <span class="s">$</span><span class="nb">f_n</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\dfrac</span><span class="nb">{</span><span class="nv">\sin</span><span class="nb">^</span><span class="m">2</span><span class="nb"> nx}{n}</span><span class="s">$</span>, e <span class="s">$</span><span class="nb">f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="nv">\lim</span><span class="nb">_n f_n</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="s">$</span>,
dove esiste.

Determinare in quali punti di <span class="s">$</span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span> la successione
<span class="s">$</span><span class="nb">f_n</span><span class="s">$</span> converge puntualmente a <span class="s">$</span><span class="nb">f</span><span class="s">$</span>.

<span class="k">\blankarea</span><span class="na">[5]</span><span class="nb">{</span><span class="c">%</span>
<span class="s">$</span><span class="nv">\forall</span><span class="nb"> x</span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span>, <span class="s">$</span><span class="nv">\left</span><span class="nb">|{</span><span class="nv">\sin</span><span class="nb">^</span><span class="m">2</span><span class="nb"> nx}</span><span class="nv">\right</span><span class="nb">|</span><span class="nv">\leq</span><span class="nb"> </span><span class="m">1</span><span class="s">$</span>, e quindi
<span class="s">$</span><span class="nv">\lim</span><span class="nb">_n </span><span class="o">-</span><span class="nv">\frac</span><span class="nb">{</span><span class="m">1</span><span class="nb">}{n} </span><span class="nv">\leq</span><span class="nb"> </span><span class="nv">\lim</span><span class="nb">_n f_n</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="nv">\leq</span><span class="nb"> </span><span class="nv">\lim</span><span class="nb">_n </span><span class="nv">\frac</span><span class="nb">{</span><span class="m">1</span><span class="nb">}{n} </span><span class="s">$</span>,
<span class="k">\quindi</span> <span class="s">$</span><span class="nv">\lim</span><span class="nb">_n f_n</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> </span><span class="m">0</span><span class="nb"> </span><span class="s">$</span>, <span class="s">$</span><span class="nv">\forall</span><span class="nb"> x</span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="nb">{R}</span><span class="s">$</span>.
<span class="nb">}</span>
<span class="k">\end</span><span class="nb">{</span>questions<span class="nb">}</span>

<span class="k">\clearpage</span>
<span class="k">\fillwithdottedlines</span><span class="nb">{</span><span class="k">\stretch</span><span class="nb">{</span>1<span class="nb">}}</span>

<span class="k">\begin</span><span class="nb">{</span>center<span class="nb">}</span>
<span class="k">\combinedpointtable</span><span class="na">[h]</span>
<span class="k">\end</span><span class="nb">{</span>center<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>
</div>
</section>
</section>
<section id="documentation-of-the-cli">
<span id="mcq-cli"></span><h2>Documentation of the CLI<a class="headerlink" href="#documentation-of-the-cli" title="Permalink to this headline">¶</a></h2>
<p>The Command Line Interface, which runs simply by:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb"> mcq.py</span>
</pre></div>
</div>
<p>has can be summarized by the following graph. Full documentation and
use instructions are shown in the interface itself.</p>
<div class="graphviz"><img src="_images/graphviz-97a2ade9b740e1f36800dab44b28d588192cfe42.png" alt="digraph {

welcome [shape = box, label=&quot;Welcome\n[prompt = ' mcq-&gt;&gt;']&quot; ] ;
open [shape = oval , label = &quot;Open a XeLaTeX file\n(uiFileNavigator)\n[prompt = '(File)mcq[folder]-&gt;&gt; ']&quot; ] ;
create [shape = oval , label = &quot;Create from guided template \n (newfileloop)\n[prompt='(New)mcq[default] &gt;']&quot; ] ;
exit [shape = box, label=&quot;Exit&quot; ];

active [shape = box, label = &quot;Active File= 'file.tex'\n (uiMasterFile)\n[prompt='(Work)mcq[folder]-&gt;&gt; '&quot; ];


welcome -&gt; open   [label = &quot; o &quot;];
welcome -&gt; create [label = &quot; c &quot; ] ;
welcome -&gt; exit   [label = &quot; q &quot; ];

open -&gt; active;
create -&gt; active;
         }" class="graphviz" /></div>
<p>After this,  several commands are available, each with their own help (see below,
prepending <code class="docutils literal notranslate"><span class="pre">do_</span></code> with the commands: for example, <code class="docutils literal notranslate"><span class="pre">do_x</span></code> will
give the help for the command <code class="docutils literal notranslate"><span class="pre">x</span></code> in the CLI.</p>
<dl class="py class">
<dt class="sig sig-object py" id="mcq.uiMasterFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">uiMasterFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Main Commands (type <code class="docutils literal notranslate"><span class="pre">?</span> <span class="pre">&lt;command&gt;</span></code> for help):</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>status                 : show MCQ-XeLaTex status
make                   : compile the main TeX file &lt;main&gt;.tex (with XeLaTeX)
exam &lt;n&gt;               : gen &lt;n&gt; exam permuted copies -&gt; *<span class="nb">_</span>exam.<span class="nb">{</span>tex,pdf<span class="nb">}</span>
omr &lt;scanfiles*.pdf&gt;   : get the OMR  answers file &lt;main&gt;<span class="nb">_</span>answers.txt
open &lt;file&gt;            : open and view/edit &lt;file&gt; with appropriate program
uid [&lt;file&gt;][:&lt;specs&gt;] : align UIDs with names, following specs  (in-place)
mark [&lt;file&gt;]          : evaluate and mark, via answers file (default given)
makestats              : generate a STATS file &lt;main&gt;<span class="nb">_</span>stats.pdf
export &lt;filename.gift&gt; : export to filename.gift, in GIFT moodle format (.txt ext appended)
export &lt;filename.html&gt; : export to filename.html, in HTML format
! &lt;shell commands&gt;     : execute directly shell commands
x                      : clear the status and go to main menu
q                      : quit (without clearing the status)
</pre></div>
</div>
</dd></dl>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Quitting the CLI keeps a persistent status, found in pickle objects saved in the
home directory. Next time <code class="docutils literal notranslate"><span class="pre">mcq.py</span></code> is run, it will start from where left.</p>
</div>
<p>Assuming the exam file name is <code class="docutils literal notranslate"><span class="pre">f.tex</span></code>, the following hierarchy of files
will be generated, among others. The commands are on the arrows.</p>
<div class="graphviz"><img src="_images/graphviz-286c7cce3383f7d62931422b7a90ddf6fe4a08f8.png" alt="digraph {

main [label=&quot;Main file: f.tex&quot;];
xml [label=&quot;f.pos\n f.lbl\n f.pdf&quot;] ;
exam [label=&quot;f_exam.pdf\n(DEBUG: f_exam.tex, f_exam.sols, f.xml)&quot;] ;

gift [ label=&quot;f.gift&quot; ];
html [ label=&quot;f.html&quot; ];


answers [label=&quot;f_answers.txt\n f_answers.pdf&quot;] ;
esse3 [label=&quot;esse3.py\n -&gt;  f.uid&quot;,shape = box ] ;

marked [label=&quot;f_exam.txt\nf_exam.csv&quot;] ;

stats [ label = &quot;f_stats.pdf&quot; ] ;

end [ shape = box , label = &quot;Exit&quot; ];

main -&gt; xml [ label = &quot; make &quot; ];

main -&gt; gift [ label = &quot;export f.gift&quot;];
main -&gt; html [ label = &quot;export f.html&quot;];


xml -&gt; main [ label = &quot; check and remake &quot; ];

xml -&gt; exam [label = &quot; exam &quot; ];

exam -&gt; answers [ label = &quot; omr &quot; ] ;
exam -&gt; answers [ label = &quot; (manual typing) &quot; ]
esse3 -&gt; answers  [label = &quot; uid &quot; ];
answers -&gt; answers [ label = &quot; check PDF and fix TXT &quot; ] ;

answers -&gt; marked [ label = &quot; mark &quot; ];

marked -&gt; stats  [ label = &quot; makestats &quot; ];

stats -&gt; main [ label = &quot; check stats\n and fix f.tex &quot; ];

stats -&gt; end [label = &quot; x &quot; ];
}" class="graphviz" /></div>
</section>
<section id="managing-and-using-a-question-bank-with-random-choices">
<span id="mcq-qb"></span><h2>Managing and using a Question Bank with Random Choices<a class="headerlink" href="#managing-and-using-a-question-bank-with-random-choices" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">question</span> <span class="pre">bank</span></code> is simply a folder where there are TeX files with
mcq.sty questions in them. Operating on question banks allows to
generate random questions for a test:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>You can use the commands listed below to choose random questions
from the Question Bank.

Main Commands (type `? &lt;command&gt;` for help):
qbank [&lt;directory&gt;]  : show or set the Question Bank Directory
load &lt;commandsfile&gt;  : load a commandsfile
lsbank               : list files in the Question Bank Directory
ls  &lt;arg&gt;            : list files
add &lt;n&gt; from &lt;files&gt; : add &lt;n&gt; questions from the list of files
                        (separated by space, wildcard `*` acceptable).
del &lt;n&gt; | all        : remove n-th question, or all the quesitons
make                 : generate `&lt;main&gt;.pdf`
open                 : open the file (e.g. for viewing, open main.pdf)
random all|&lt;n&gt;       : draw all or just exercise &lt;n&gt;, and create &lt;main&gt;.tex
status               : show status of the chosen questions
rehash               : reload the full set of questions from the qbank
next                 : Accept the random choice and proceed.
x                    : Exit (without accepting)
</pre></div>
</div>
<p>A typical session, which can be saved in a <code class="docutils literal notranslate"><span class="pre">txt</span></code> file and loaded with the command <code class="docutils literal notranslate"><span class="pre">load</span></code>
is as follows:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>add 1 from c*-2018.tex
add 3 from c*-2019.tex
add 1 from richiami.tex
add 1 from derivate.tex
add 1 from integrali.tex
add 1 from successioni.tex
add 1 from fourier.tex
add 1 from curvesup.tex
add 1 from forme.tex
add 1 from eqdiff.tex
add 1 from lebes.tex
add 1 from lebes2.tex
add 1 from hilbert.tex
</pre></div>
</div>
</section>
<section id="exporting-to-other-formats-html-and-gift">
<span id="mcq-export"></span><h2>Exporting to other formats: HTML and GIFT<a class="headerlink" href="#exporting-to-other-formats-html-and-gift" title="Permalink to this headline">¶</a></h2>
<p>The commandline:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb"> mcq.py </span><span class="o">--</span><span class="nb">gift filename.tex &gt; questions.gift</span>
</pre></div>
</div>
<p>will convert <strong>all</strong> the questions in <code class="docutils literal notranslate"><span class="pre">filename.tex</span></code> to the GIFT moodle format, ready
to be imported in MOODLE as questions. The two main types (<code class="docutils literal notranslate"><span class="pre">exerm</span></code> and <code class="docutils literal notranslate"><span class="pre">exe</span></code>) correspond
to multiple choice questions or essays, in moodle.</p>
<p>The preamble command <code class="docutils literal notranslate"><span class="pre">\moodlecategory{categoryname}</span></code> will trigger the following behavour:
for each group of questions,
all the questions in a single environment <code class="docutils literal notranslate"><span class="pre">\begin{esercizi}{sectioname}..</span></code> or
<code class="docutils literal notranslate"><span class="pre">\begin{esercizi*}{sectionname}</span></code>
will be categorized under the moodle GIFT category:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb">CATEGORY: categoryname</span><span class="o">/</span><span class="nb">sectionname</span>
</pre></div>
</div>
<p>or, if the sectionname is empty,:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span><span class="s">$</span><span class="nb">CATEGORY: category</span>
</pre></div>
</div>
<p>to facilitate categorized GIFT importing into MOODLE question banks.</p>
<p>Exactly the same function is provided by the <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">filename.gift</span></code> in the command
line user interface.</p>
</section>
<section id="when-things-go-wrong">
<span id="mcq-errors"></span><h2>When things go wrong<a class="headerlink" href="#when-things-go-wrong" title="Permalink to this headline">¶</a></h2>
<p>(TODO)</p>
</section>
<section id="advanced-usage-command-line-options">
<span id="mcq-options"></span><h2>Advanced usage: command line options<a class="headerlink" href="#advanced-usage-command-line-options" title="Permalink to this headline">¶</a></h2>
<p>(TODO)</p>
<hr class="docutils" />
</section>
<section id="mcq-as-a-python-module-mcq-classes">
<span id="mcq-python"></span><h2>mcq as a python module: mcq CLASSES<a class="headerlink" href="#mcq-as-a-python-module-mcq-classes" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mcq.Esercizio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">Esercizio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EXERM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numero_colonne</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risposte</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coda</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.Esercizio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for exercises</p>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.Esercizio.latex_perm">
<span class="sig-name descname"><span class="pre">latex_perm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">perm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.Esercizio.latex_perm" title="Permalink to this definition">¶</a></dt>
<dd><p>return a latex representation of the exercise,
with permuted answers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.Esercizio.latex_withstats">
<span class="sig-name descname"><span class="pre">latex_withstats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stats</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.Esercizio.latex_withstats" title="Permalink to this definition">¶</a></dt>
<dd><p>return a latex (unpermuted) representation of the exercise,
together with statistical data annotations.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.MultiEsercizio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">MultiEsercizio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.MultiEsercizio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.Risposta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">Risposta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">giusta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">punti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.Risposta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.myTerm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">myTerm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt='mcq-&gt;</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_columns=79</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.myTerm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.ExamFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">ExamFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abspath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.ExamFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.ExamFile.show_status">
<span class="sig-name descname"><span class="pre">show_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mcq.ExamFile.show_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the poset of dependencies</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.ExamFile.view">
<span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.ExamFile.view" title="Permalink to this definition">¶</a></dt>
<dd><p>View status, log, …</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.uiShell">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">uiShell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cmd.Cmd</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.emptyline">
<span class="sig-name descname"><span class="pre">emptyline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.emptyline" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when an empty line is entered in response to the prompt.</p>
<p>If this method is not overridden, it repeats the last nonempty
command entered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.do_shell">
<span class="sig-name descname"><span class="pre">do_shell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.do_shell" title="Permalink to this definition">¶</a></dt>
<dd><p>Shell (direct) commands</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.do_open">
<span class="sig-name descname"><span class="pre">do_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.do_open" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>Open PDF/TXT/CVS/… file with the appropriate program
(according to system configuration / mime-types / OS… )</p>
<p>EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">main_answers</span><span class="p">.</span><span class="n">pdf</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">main_answers</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.precmd">
<span class="sig-name descname"><span class="pre">precmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.precmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook method executed just before the command line is
interpreted, but after the input prompt is generated and issued.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.do_EOF">
<span class="sig-name descname"><span class="pre">do_EOF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.do_EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>EndOfFile (equivalent to Quit)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.do_x">
<span class="sig-name descname"><span class="pre">do_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.do_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit (interrupting everything and not saving)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.help_help">
<span class="sig-name descname"><span class="pre">help_help</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.help_help" title="Permalink to this definition">¶</a></dt>
<dd><p>help</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.do_q">
<span class="sig-name descname"><span class="pre">do_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.do_q" title="Permalink to this definition">¶</a></dt>
<dd><p>Quit (saving status)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiShell.completedefault">
<span class="sig-name descname"><span class="pre">completedefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endidx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiShell.completedefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called to complete an input line when no command-specific
complete_*() method is available.</p>
<p>By default, it returns an empty list.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.uiFileNavigator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">uiFileNavigator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiFileNavigator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mcq.uiShell" title="mcq.uiShell"><code class="xref py py-class docutils literal notranslate"><span class="pre">mcq.uiShell</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiFileNavigator.do_ls">
<span class="sig-name descname"><span class="pre">do_ls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiFileNavigator.do_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Return the list of .TeX files or directories containing TeX files
or directories. If the optional argument &lt;path&gt; is missing,
the current dir will be listed.</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;path&gt; is a directory, its content will be listed.</p></li>
<li><p>If &lt;path&gt; is a file, just this file will be listed.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiFileNavigator.do_cd">
<span class="sig-name descname"><span class="pre">do_cd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiFileNavigator.do_cd" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="n">dir</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Change working directory to directory &lt;arg&gt;. With no &lt;dir&gt; argument,
it will go to the Home Directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiFileNavigator.do_load">
<span class="sig-name descname"><span class="pre">do_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiFileNavigator.do_load" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="o">&lt;</span><span class="n">mainfile</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>This commands simply loads the MCQ-XeLaTeX file &lt;mainfile&gt;.
Use ls, cd and tab-completion to locate the file, first.</p>
<p>EQUIVALENT EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">main</span><span class="o">.</span><span class="n">tex</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">main</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">mai</span><span class="o">&lt;</span><span class="n">TAB</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">uiMasterFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mcq.uiShell" title="mcq.uiShell"><code class="xref py py-class docutils literal notranslate"><span class="pre">mcq.uiShell</span></code></a></p>
<p>Main Commands (type <code class="docutils literal notranslate"><span class="pre">?</span> <span class="pre">&lt;command&gt;</span></code> for help):</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">status</span><span class="w">                 </span><span class="o">:</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">MCQ</span><span class="o">-</span><span class="n">XeLaTex</span><span class="w"> </span><span class="n">status</span><span class="w"></span>
<span class="n">make</span><span class="w">                   </span><span class="o">:</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">TeX</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">&lt;</span><span class="n">main</span><span class="o">&gt;.</span><span class="n">tex</span><span class="w"> </span><span class="o">(</span><span class="k">with</span><span class="w"> </span><span class="n">XeLaTeX</span><span class="o">)</span><span class="w"></span>
<span class="n">exam</span><span class="w"> </span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exam</span><span class="w"> </span><span class="n">permuted</span><span class="w"> </span><span class="n">copies</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">_exam</span><span class="o">.{</span><span class="n">tex</span><span class="o">,</span><span class="n">pdf</span><span class="o">}</span><span class="w"></span>
<span class="n">omr</span><span class="w"> </span><span class="o">&lt;</span><span class="n">scanfiles</span><span class="o">*.</span><span class="n">pdf</span><span class="o">&gt;</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">OMR</span><span class="w">  </span><span class="n">answers</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">&lt;</span><span class="n">main</span><span class="o">&gt;</span><span class="n">_answers</span><span class="o">.</span><span class="na">txt</span><span class="w"></span>
<span class="n">open</span><span class="w"> </span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">view</span><span class="o">/</span><span class="n">edit</span><span class="w"> </span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">program</span><span class="w"></span>
<span class="n">uid</span><span class="w"> </span><span class="o">[&lt;</span><span class="n">file</span><span class="o">&gt;][:&lt;</span><span class="n">specs</span><span class="o">&gt;]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="n">UIDs</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">names</span><span class="o">,</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">specs</span><span class="w">  </span><span class="o">(</span><span class="k">in</span><span class="o">-</span><span class="n">place</span><span class="o">)</span><span class="w"></span>
<span class="n">mark</span><span class="w"> </span><span class="o">[&lt;</span><span class="n">file</span><span class="o">&gt;]</span><span class="w">          </span><span class="o">:</span><span class="w"> </span><span class="n">evaluate</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">mark</span><span class="o">,</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">answers</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">(</span><span class="k">default</span><span class="w"> </span><span class="n">given</span><span class="o">)</span><span class="w"></span>
<span class="n">makestats</span><span class="w">              </span><span class="o">:</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">STATS</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">&lt;</span><span class="n">main</span><span class="o">&gt;</span><span class="n">_stats</span><span class="o">.</span><span class="na">pdf</span><span class="w"></span>
<span class="n">export</span><span class="w"> </span><span class="o">&lt;</span><span class="n">filename</span><span class="o">.</span><span class="na">gift</span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filename</span><span class="o">.</span><span class="na">gift</span><span class="o">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">GIFT</span><span class="w"> </span><span class="n">moodle</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">(.</span><span class="n">txt</span><span class="w"> </span><span class="n">ext</span><span class="w"> </span><span class="n">appended</span><span class="o">)</span><span class="w"></span>
<span class="n">export</span><span class="w"> </span><span class="o">&lt;</span><span class="n">filename</span><span class="o">.</span><span class="na">html</span><span class="o">&gt;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filename</span><span class="o">.</span><span class="na">html</span><span class="o">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">HTML</span><span class="w"> </span><span class="n">format</span><span class="w"></span>
<span class="o">!</span><span class="w"> </span><span class="o">&lt;</span><span class="n">shell</span><span class="w"> </span><span class="n">commands</span><span class="o">&gt;</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">commands</span><span class="w"></span>
<span class="n">x</span><span class="w">                      </span><span class="o">:</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">menu</span><span class="w"></span>
<span class="n">q</span><span class="w">                      </span><span class="o">:</span><span class="w"> </span><span class="n">quit</span><span class="w"> </span><span class="o">(</span><span class="n">without</span><span class="w"> </span><span class="n">clearing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">status</span><span class="o">)</span><span class="w"></span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_x">
<span class="sig-name descname"><span class="pre">do_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_x" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"></span>
</pre></div>
</div>
<p>Clear the status and go to main menu.
Use with caution: you need to re-load a main MCQ-XeLaTeX file after.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_q">
<span class="sig-name descname"><span class="pre">do_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_q" title="Permalink to this definition">¶</a></dt>
<dd><p>Quit, saving the status.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_status">
<span class="sig-name descname"><span class="pre">do_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the status of the job.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_make">
<span class="sig-name descname"><span class="pre">do_make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_make" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">make</span><span class="w"></span>
</pre></div>
</div>
<p>Compile (XeLaTeX-ing) the TeX file &lt;main&gt;.tex, and generates some
internal files necessary for the OMR scan:</p>
<blockquote>
<div><p>OUTPUT: &lt;main&gt;.pdf
INTERNAL: &lt;main&gt;.lbl, &lt;main&gt;.pos</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_export">
<span class="sig-name descname"><span class="pre">do_export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_export" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="o">&lt;</span><span class="n">outputfile</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>It exports all the questions in the main TeX to &lt;outputfile&gt;,
in a format depending on the &lt;outputfile&gt; extension.
If the extension is <code class="docutils literal notranslate"><span class="pre">.gift</span></code>, the format is MOODLE GIFT. (.txt ext appended)
If the extension is <code class="docutils literal notranslate"><span class="pre">.html</span></code> or <code class="docutils literal notranslate"><span class="pre">.htm</span></code>, the format is HTML.</p>
<p>EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="n">gift</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="k">export</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="n">html</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_exam_nolatex">
<span class="sig-name descname"><span class="pre">do_exam_nolatex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_exam_nolatex" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>UNDOCUMENTED (DANGEROUS) FUNCTION: USAGE exam_nolatex &lt;n&gt;</strong></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_exam">
<span class="sig-name descname"><span class="pre">do_exam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">DOLATEX</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_exam" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>exam &lt;n&gt;
</pre></div>
</div>
<p>Generate &lt;n&gt; exam copies of <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;.tex</span></code>, permuting the questions
and the anwsers if &lt;n&gt; is at least 2. It will save the output in
file <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_exam.tex</span></code> and then compile it to obtain
<code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_exam.pdf</span></code>, where &lt;main&gt;.tex is the name of the main TeX file.
If &lt;n&gt;=1, then it will not permute questions and answers.
If &lt;n&gt; &gt;= 2, the permutations will be pseudo-random, with a constant
seed, so that each run will give exactly the same permutations.
So, if a mistake in <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;.tex</span></code> needs to be fixed, it is possible
to re-generate the answer keys by XeLaTeX-ing &lt;main&gt;.tex and
re-running <cite>exam &lt;n&gt;</cite> as many times necessary:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>OUTPUT: &lt;main&gt;_exam.pdf
INTERNAL: &lt;main&gt;_exam.tex, &lt;main&gt;.xml, &lt;main&gt;_exam.db
HUMAN-READABLE DEBUG: &lt;main&gt;_exam.sols
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_omr">
<span class="sig-name descname"><span class="pre">do_omr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_omr" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>omr &lt;scanfiles*.pdf&gt;
</pre></div>
</div>
<p>Parse the scanned bubblesheets in <code class="docutils literal notranslate"><span class="pre">&lt;scanfiles*.pdf&gt;</span></code>, and save
the list of answers in <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.txt</span></code>.
The argument is a list of PDF files (wildcard * is accepted).</p>
<p>EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">omr</span><span class="w"> </span><span class="kr">scan</span><span class="o">/</span><span class="n">c1</span><span class="o">-</span><span class="n">s1</span><span class="p">.</span><span class="n">pdf</span><span class="w"> </span><span class="kr">scan</span><span class="o">/</span><span class="n">c1</span><span class="o">-</span><span class="n">s2</span><span class="p">.</span><span class="n">pdf</span><span class="w"> </span><span class="kr">scan</span><span class="o">/</span><span class="n">c2</span><span class="o">-</span><span class="n">s1</span><span class="p">.</span><span class="n">pdf</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">omr</span><span class="w"> </span><span class="kr">scan</span><span class="o">/</span><span class="n">c1</span><span class="o">-*</span><span class="p">.</span><span class="n">pdf</span><span class="w"> </span><span class="kr">scan</span><span class="o">/</span><span class="n">c2</span><span class="o">-</span><span class="n">S</span><span class="o">*</span><span class="p">.</span><span class="n">pdf</span><span class="w"></span>
</pre></div>
</div>
<p>The annotated PDF file <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.pdf</span></code> is created. It is possible
to visually check the errors in the Optical Marks Recognition,
and (more likely) the mistakes of the humans on the bubblesheets.
A <strong>RED</strong> circle means it is an out-of place mark,
a <strong>YELLOW</strong> circle means it is a (probably) ignorable out-of-place mark,
a <strong>GREEN</strong> circle means the mark was identified correctly.
The OMR is based on a client-server model (a remote OMR service),
therefore it is necessary to be connected to internet, and to wait some
time.  If running multiple times on different PDF sets, the different
answers files can be simply manually merged.</p>
<p>The format of the output, written in <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.txt</span></code>
is the format required by the subsequent <cite>mark</cite> process:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;CODE&gt;:&lt;NAME&gt;:&lt;UID&gt;:&lt;ANSWERS&gt;:&lt;OPTIONAL_MARK&gt;
</pre></div>
</div>
<p>with empty column name and empty <code class="docutils literal notranslate"><span class="pre">&lt;OPTIONAL_MARK&gt;</span></code>.
The string <code class="docutils literal notranslate"><span class="pre">&lt;ANSWERS&gt;</span></code> is a string of length = number of questions,
with a `` 0 `` for a missed answer,
one of <code class="docutils literal notranslate"><span class="pre">ABCD</span></code>… for a given answer,
and a `` * `` for a multiple answer found.
One needs to manually check <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.pdf</span></code> to possibly correct
the output <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.txt</span></code>.</p>
<p><strong>WARNING:</strong> Please scan the bubblesheets in GRAYSCALE format, not BW,
to minimize OMR errors.</p>
<p>OUTPUT:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;main&gt;_answers.txt  &lt;main&gt;_answers.pdf
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_uid">
<span class="sig-name descname"><span class="pre">do_uid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_uid" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">uid</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="n">UIDfile</span><span class="o">&gt;</span><span class="p">][</span><span class="o">:&lt;</span><span class="n">UIDcol</span><span class="o">&gt;&lt;</span><span class="n">delim</span><span class="o">&gt;&lt;</span><span class="n">NAMEcol</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Add Names to the answers list &lt;main&gt;_answers.txt, from a &lt;UIDfile&gt;.
The file <code class="docutils literal notranslate"><span class="pre">&lt;UIDfile&gt;</span></code> is a CSV file, with delimiter <code class="docutils literal notranslate"><span class="pre">&lt;delim&gt;</span></code>
(default is the colon <code class="docutils literal notranslate"><span class="pre">:</span></code>)</p>
<p>EXAMPLES OF DEFAULT LINES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>:Verdi, Giuseppe:762809:
1F5G:Peano, Giuseppe:012345:
</pre></div>
</div>
<p>After the optional argument &lt;UIDfile&gt; there is an optional
specification of which columns contain the UID and the NAME,
and which character is the delimiter (for example, <cite>:</cite>, <cite>;</cite> or <cite>,</cite>):</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;UIDfile&gt;[:&lt;UIDcol&gt;&lt;delim&gt;&lt;NAMEcol&gt;]
</pre></div>
</div>
<p><strong>EXAMPLE:</strong></p>
<p>If the file <cite>main.uid</cite> contains lines such as:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="mf">012345</span><span class="p">;</span><span class="n">Rossi</span><span class="p">,</span><span class="n">Giuseppe</span><span class="w"></span>
</pre></div>
</div>
<p>the columns specifications are &lt;UIDcol&gt;=1 &lt;delim&gt;=; &lt;NAMEcol&gt;=2
and therefore one has to type:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>`uid main.uid:1;2`
</pre></div>
</div>
<p>Omitting the optional ‘spec’ argument gives the default:
<code class="docutils literal notranslate"><span class="pre">filename.uid</span></code> correponds to  <code class="docutils literal notranslate"><span class="pre">filename.uid:3:2</span></code>, i.e.,
the third and second columns contain UID and name, with delimiter <cite>:</cite>.</p>
<p>The default format is the output of ‘esse3.py –uid Table.xls’, the multi-tool
available at www.dlfer.xyz/var/ (cf. the documentation there).</p>
<p>If &lt;UIDfile&gt; is empty, the default is &lt;main&gt;.uid (if it exists),
where &lt;main&gt;.tex is the main MCQ-XeLaTeX file.</p>
<p>OUTPUT:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>none; the file &lt;main&gt;_answers.txt is modified in-place.
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_mark">
<span class="sig-name descname"><span class="pre">do_mark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>mark [&lt;answersfile&gt;]
</pre></div>
</div>
<p>Take the optional argument &lt;answersfile&gt;, and give marks according to
the answer keys generated by <code class="docutils literal notranslate"><span class="pre">exam</span></code>.</p>
<p>Default answersfile: <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_answers.txt</span></code>.
The general format of the answers lines is the following:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">FXZH</span><span class="o">:</span><span class="n">Verdi</span><span class="o">,</span><span class="w"> </span><span class="n">Giuseppe</span><span class="o">:</span><span class="mi">193146</span><span class="o">:</span><span class="n">ADba</span><span class="o">:</span><span class="mi">30</span><span class="w"></span>
<span class="o">&lt;</span><span class="n">CODE</span><span class="o">&gt;:&lt;</span><span class="n">NAME</span><span class="o">&gt;:&lt;</span><span class="n">UID</span><span class="o">&gt;:&lt;</span><span class="n">ANSWERS</span><span class="o">&gt;:&lt;</span><span class="n">OPTIONAL_MARK</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>where &lt;CODE&gt; is the code of the permutation,
&lt;NAME&gt; is the name, &lt;UID&gt; the User Identification number, and
&lt;ANSWERS&gt; is a string of length = number of questions, where the k-th
character is the given answer (a case-insensitive letter),
or <cite>0</cite> if no answer was given.
The optional field &lt;OPTIONAL_MARK&gt; is a number, which can be given
to assess other forms of exercises in the exam.
In general it is not used, so the line reads as:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">FXZH</span><span class="o">:</span><span class="n">Verdi</span><span class="o">,</span><span class="w"> </span><span class="n">Giuseppe</span><span class="o">:</span><span class="mi">193146</span><span class="o">:</span><span class="n">ADba</span><span class="o">:</span><span class="w"></span>
</pre></div>
</div>
<p>The output files are <cite>&lt;main&gt;_exam.csv</cite> and <cite>&lt;main&gt;_exam.txt</cite>.
The format of the CSV version is:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>FXZH;Verdi, Giuseppe;193146;15.0;14.0;29.0
&lt;CODE&gt;;&lt;NAME&gt;;&lt;UID&gt;;&lt;MCQ_MARK&gt;;&lt;OPTIONAL_MARK&gt;;&lt;TOTAL&gt;
</pre></div>
</div>
<p>where &lt;CODE&gt;,&lt;NAME&gt;,&lt;UID&gt;, and &lt;OPTIONAL_MARK&gt; are as above.
The new field &lt;MCQ_MARK&gt; is the sum of the numerical values
of the given answers, and &lt;TOTAL&gt; is the combination of
&lt;MCQ_MARK&gt; with &lt;OPTIONAL_MARK&gt; using the formula
<code class="docutils literal notranslate"><span class="pre">formulavoto</span></code> defined in the &lt;main&gt;.tex file (python syntax),
where <cite>x</cite> stands for &lt;MCQ_MARK&gt; and <cite>y</cite> stands for &lt;OPTIONAL_MARK&gt;.</p>
<p><strong>EXAMPLE:</strong></p>
<p>If in the &lt;main&gt;.tex file there is a:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>\formulavoto{x+2*y}
</pre></div>
</div>
<p>then in the result list the total mark will be:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;TOTAL&gt;=&lt;MCQ_MARK&gt; + 2 *&lt;OPTIONAL_MARK&gt;
</pre></div>
</div>
<p>The output file <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_exam.txt</span></code> is an anonymous version, with
just the &lt;CODE&gt; and &lt;TOTAL&gt; columns, used to publish results on-line.</p>
<p>OUTPUT:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;main&gt;_exam.csv, &lt;main&gt;_exam.txt
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_makestats">
<span class="sig-name descname"><span class="pre">do_makestats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_makestats" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">makestats</span><span class="w"></span>
</pre></div>
</div>
<p>Generate the statistics file (after marking).
Each question will have the following indices for item analysis.</p>
<p>The <strong>FACILITY INDEX</strong> $f$ is the percentage of students who
gave the right answer: if $f$&lt; 30%, the question is too hard,
if $f$&gt;75%, the question is too easy.</p>
<p>The <strong>DISCRIMINATION INDEX</strong> $d$ is the number of 27% top students
who gave the correct answer, minus the number of 27% bottom
students who gave the correct answer, divided by the number
of 27% students). If $d$&gt;25%, it os OK. If $d$&lt;20%, or worse,
$d$ is negative, probably there is a mistake in the answer keys.</p>
<p>OUTPUT:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;main&gt;_stats.pdf
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiMasterFile.do_pdfx">
<span class="sig-name descname"><span class="pre">do_pdfx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiMasterFile.do_pdfx" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">pdfx</span><span class="w"></span>
</pre></div>
</div>
<p>Attempt to convert the <code class="docutils literal notranslate"><span class="pre">&lt;main&gt;_exam.pdf</span></code> PDF file to a PDFX version,
more suitable for error-free printing, using ghostscript, if installed.
It tries to set a proper GS_FONTPATH.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="mcq.uiChooser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">uiChooser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dbvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">term</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mcq.uiShell" title="mcq.uiShell"><code class="xref py py-class docutils literal notranslate"><span class="pre">mcq.uiShell</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_make">
<span class="sig-name descname"><span class="pre">do_make</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_make" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">make</span><span class="w"></span>
</pre></div>
</div>
<p>Compile (XeLaTeX-ing) the TeX file generated file.</p>
<p>OUTPUT:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>&lt;file&gt;.pdf
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_add">
<span class="sig-name descname"><span class="pre">do_add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_add" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">file1</span><span class="p">.</span><span class="n">tex</span><span class="w"> </span><span class="n">f2</span><span class="p">.</span><span class="n">tex</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">f2</span><span class="o">*</span><span class="p">.</span><span class="n">tex</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_ls">
<span class="sig-name descname"><span class="pre">do_ls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Return the list of .TeX files or directories containing TeX files
or directories. If the optional argument &lt;path&gt; is missing,
the current dir will be listed.
If &lt;path&gt; is a directory, its content will be listed.
If &lt;path&gt; is a file, just this file will be listed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_lsbank">
<span class="sig-name descname"><span class="pre">do_lsbank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_lsbank" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">ls</span><span class="w"></span>
</pre></div>
</div>
<p>Return the list of .TeX files in the Question Bank Directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_qbank">
<span class="sig-name descname"><span class="pre">do_qbank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_qbank" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>qbank &lt;directory&gt;
</pre></div>
</div>
<p>This commands define the Question Bank = &lt;directory&gt;
Use ls, cd and tab-completion to locate the file, first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_cd">
<span class="sig-name descname"><span class="pre">do_cd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_cd" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="p">[</span><span class="o">&lt;</span><span class="n">dir</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
</pre></div>
</div>
<p>Change working directory to directory &lt;arg&gt;. With no &lt;dir&gt; argument,
it will go to the Main File Directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_status">
<span class="sig-name descname"><span class="pre">do_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_status" title="Permalink to this definition">¶</a></dt>
<dd><p>status: print the current status of all chosen questions form the databank</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_rehash">
<span class="sig-name descname"><span class="pre">do_rehash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_rehash" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart and rehash all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_random">
<span class="sig-name descname"><span class="pre">do_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_random" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="o">[</span><span class="n">all</span><span class="o">]|[</span><span class="n">&lt;n&gt;</span><span class="o">]</span><span class="w"> </span><span class="o">[</span><span class="n">n_2</span><span class="o">]</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
</pre></div>
</div>
<p>Random choose either all questions (if no argument or <cite>all</cite> is given).
Otherwise random choose just the n-th question.</p>
<p>EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nf">random</span><span class="w"> </span><span class="kr">all</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nf">random</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nf">random</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nf">random</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">7</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_del">
<span class="sig-name descname"><span class="pre">do_del</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_del" title="Permalink to this definition">¶</a></dt>
<dd><p>del &lt;n&gt;|all: delete the n-th question from the list, or all</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_q">
<span class="sig-name descname"><span class="pre">do_q</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_q" title="Permalink to this definition">¶</a></dt>
<dd><p>q: quit from the procedure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_next">
<span class="sig-name descname"><span class="pre">do_next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_next" title="Permalink to this definition">¶</a></dt>
<dd><p>Next: all finished, proceed to the Work Menu.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mcq.uiChooser.do_load">
<span class="sig-name descname"><span class="pre">do_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.uiChooser.do_load" title="Permalink to this definition">¶</a></dt>
<dd><p>USAGE:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="o">&lt;</span><span class="n">commandsfile</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<p>Load a file with add|del|random|qbank|… commands,
one per line (same syntax as the UI shell)”</p>
<p>EQUIVALENT EXAMPLES:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">commandsfile</span><span class="o">.</span><span class="n">txt</span><span class="w"></span>
<span class="o">-&gt;&gt;</span><span class="w"> </span><span class="nb">load</span><span class="w"> </span><span class="n">command</span><span class="o">&lt;</span><span class="n">TAB</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="junkyard">
<h2>JUNKYARD<a class="headerlink" href="#junkyard" title="Permalink to this headline">¶</a></h2>
<p><strong>default_combina_voti ARGOMENTO</strong>:</p>
<dl class="py function">
<dt class="sig sig-object py" id="mcq.default_combina_voti">
<span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">default_combina_voti</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mcq.default_combina_voti" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the formula for the two parts, default of:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>\formulavoto{x+y}
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mcq.check_safe_dvipdfmx">
<span class="sig-prename descclassname"><span class="pre">mcq.</span></span><span class="sig-name descname"><span class="pre">check_safe_dvipdfmx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mcq.check_safe_dvipdfmx" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the dvipdfmx correcly works with pstricks, for the output of 2Dbarcodes</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mcq-quickstart.html">MCQ-XeLaTeX: Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcqxelatex.html">MCQ-XeLaTeX: Multiple Choice Questions for mathematics and XeLaTeX</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MCQ-XeLaTeX Full Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcq-moodle.html">MCQ-XeLaTeX: How to use it with Moodle and for online exams</a></li>
<li class="toctree-l1"><a class="reference internal" href="esse3.html">ESSE3: nei meandri della burocrazia</a></li>
<li class="toctree-l1"><a class="reference internal" href="psd2pdf.html">psd2pdf: drawing and presentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="casengine.html">CASengine</a></li>
<li class="toctree-l1"><a class="reference internal" href="simplicial.html">simplicial: simplicial complexes, homology, topology and persistent homology</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="mcqxelatex.html" title="previous chapter">MCQ-XeLaTeX: Multiple Choice Questions for mathematics and XeLaTeX</a></li>
      <li>Next: <a href="mcq-moodle.html" title="next chapter">MCQ-XeLaTeX: How to use it with Moodle and for online exams</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, -dlf.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/mcq-full.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>